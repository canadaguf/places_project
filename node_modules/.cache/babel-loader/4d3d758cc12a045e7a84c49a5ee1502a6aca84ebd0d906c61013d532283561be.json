{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Typography,Container,Grid,Paper,List,ListItem,ListItemText,Divider,CircularProgress,Button}from'@mui/material';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Homepage=()=>{const[places,setPlaces]=useState([]);const[loading,setLoading]=useState(true);const[page,setPage]=useState(1);const itemsPerPage=5;// Fetch places from the backend\nuseEffect(()=>{const fetchPlaces=async()=>{try{const response=await axios.get('http://localhost:5000/api/places');setPlaces(response.data.places);setLoading(false);}catch(error){console.error('Error fetching places:',error);setLoading(false);}};fetchPlaces();},[]);const handleNextPage=()=>{setPage(prevPage=>prevPage+1);};const handlePrevPage=()=>{setPage(prevPage=>Math.max(prevPage-1,1));};const paginatedPlaces=places.slice((page-1)*itemsPerPage,page*itemsPerPage);return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",sx:{marginTop:4},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:3,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:3,textAlign:'center',borderRadius:2,height:400,overflowY:'auto'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Places\"}),loading?/*#__PURE__*/_jsx(CircularProgress,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(List,{children:paginatedPlaces.map(place=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ListItem,{component:Link,to:`/place/${place.id}`,sx:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsx(ListItemText,{primary:place.name,secondary:place.address})}),/*#__PURE__*/_jsx(Divider,{})]},place.id))}),/*#__PURE__*/_jsx(Button,{onClick:handlePrevPage,disabled:page===1,children:\"Previous\"}),/*#__PURE__*/_jsx(Button,{onClick:handleNextPage,disabled:page*itemsPerPage>=places.length,children:\"Next\"})]})]})})})});};export default Homepage;","map":{"version":3,"names":["React","useState","useEffect","Typography","Container","Grid","Paper","List","ListItem","ListItemText","Divider","CircularProgress","Button","axios","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Homepage","places","setPlaces","loading","setLoading","page","setPage","itemsPerPage","fetchPlaces","response","get","data","error","console","handleNextPage","prevPage","handlePrevPage","Math","max","paginatedPlaces","slice","maxWidth","sx","marginTop","children","container","spacing","item","xs","md","lg","elevation","padding","textAlign","borderRadius","height","overflowY","variant","gutterBottom","map","place","component","to","id","textDecoration","color","primary","name","secondary","address","onClick","disabled","length"],"sources":["C:/Users/Ilya/places_project/src/scenes/homepage/Homepage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Typography, Container, Grid, Paper, List, ListItem, ListItemText, Divider, CircularProgress, Button } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Homepage = () => {\r\n  const [places, setPlaces] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const itemsPerPage = 5;\r\n\r\n  // Fetch places from the backend\r\n  useEffect(() => {\r\n    const fetchPlaces = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/places');\r\n        setPlaces(response.data.places);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching places:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPlaces();\r\n  }, []);\r\n\r\n  const handleNextPage = () => {\r\n    setPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    setPage((prevPage) => Math.max(prevPage - 1, 1));\r\n  };\r\n\r\n  const paginatedPlaces = places.slice((page - 1) * itemsPerPage, page * itemsPerPage);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ marginTop: 4 }}>\r\n      <Grid container spacing={4}>\r\n        {/* Section 1: Places */}\r\n        <Grid item xs={12} md={6} lg={3}>\r\n          <Paper elevation={3} sx={{ padding: 3, textAlign: 'center', borderRadius: 2, height: 400, overflowY: 'auto' }}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              Places\r\n            </Typography>\r\n            {loading ? (\r\n              <CircularProgress />\r\n            ) : (\r\n              <>\r\n                <List>\r\n                  {paginatedPlaces.map((place) => (\r\n                    <React.Fragment key={place.id}>\r\n                      <ListItem\r\n                        component={Link}\r\n                        to={`/place/${place.id}`}\r\n                        sx={{ textDecoration: 'none', color: 'inherit' }}\r\n                      >\r\n                        <ListItemText primary={place.name} secondary={place.address} />\r\n                      </ListItem>\r\n                      <Divider />\r\n                    </React.Fragment>\r\n                  ))}\r\n                </List>\r\n                <Button onClick={handlePrevPage} disabled={page === 1}>\r\n                  Previous\r\n                </Button>\r\n                <Button onClick={handleNextPage} disabled={page * itemsPerPage >= places.length}>\r\n                  Next\r\n                </Button>\r\n              </>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n\r\n        {/* Other sections (Lists, Reviews, Events) */}\r\n        {/* ... */}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Homepage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}